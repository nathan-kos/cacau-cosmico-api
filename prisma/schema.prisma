generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

// modelo de Usuario
model User {
    usu_Id           String              @id @default(uuid())
    usu_Nome         String
    usu_Email        String              @unique
    usu_Senha        String
    usu_Telefone     String              @db.Char(16)
    usu_CPF          String              @unique @db.Char(11)
    usu_Nasc         DateTime            @db.Date
    usu_Privacidade  Boolean             @default(false)
    usu_Uso          Boolean             @default(false)
    usu_avatar       String?
    usu_pap_id       String
    usu_pap          Papel               @relation(fields: [usu_pap_id], references: [pap_Id])
    usu_Rua          String?
    usu_Numero       String?
    usu_Bairro       String?
    usu_CEP          String?             @db.Char(9)
    usu_Complemento  String?
    usu_Ativo        Boolean             @default(true)
    // relação
    usu_cid_id       String?
    usu_cid          Cidade?             @relation(fields: [usu_cid_id], references: [cid_Id])
    usu_tpr          Termo_privacidade[]
    // padrão
    usu_CriadoEm     DateTime            @default(now())
    usu_AtualizadoEm DateTime            @updatedAt
}

model Estado {
    est_Id           String   @id @default(uuid())
    est_Nome         String
    est_UF           String   @db.Char(2)
    // relação
    cidade           Cidade[]
    // padrão
    est_CriadoEm     DateTime @default(now())
    est_AtualizadoEm DateTime @updatedAt
}

model Cidade {
    cid_Id           String   @id @default(uuid())
    cid_Nome         String
    // relação
    Usuario          User[]
    estado           Estado   @relation(fields: [cid_est_id], references: [est_Id])
    cid_est_id       String
    // padrão
    cid_CriadoEm     DateTime @default(now())
    cid_AtualizadoEm DateTime @updatedAt
}

model Papel {
    pap_Id           String   @id @default(uuid())
    pap_Nome         String
    // relação
    Usuario          User[]
    // padrão
    pap_CriadoEm     DateTime @default(now())
    pap_AtualizadoEm DateTime @updatedAt
}

// modelo de termos
model Termo_privacidade {
    tpr_Id           String   @id @default(uuid())
    tpr_Texto        String
    // relação
    tpr_usu_id       String
    Usuario          User     @relation(fields: [tpr_usu_id], references: [usu_Id])
    // padrão
    tpr_CriadoEm     DateTime @default(now())
    tpr_AtualizadoEm DateTime @updatedAt
}
